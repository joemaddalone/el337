---
title: 'Svg Path Data in Canvas'
date: 2022-01-05
tags: ['code', 'svg', 'canvas']
excerpt: 'Building canvas shapes with svg path data'
short: 'SVG + Canvas'
---

Typically most canvas drawing requires a series of commands. Something like this.

<script src="https://unpkg.com/@joemaddalone/path@1.4.0/dist/index.js"></script>


```js
ctx.beginPath();
ctx.moveTo(150, 10);
ctx.lineTo(115, 70);
ctx.lineTo(185, 70);
ctx.closePath();
ctx.stroke();
```
This gives us a triangle.

<canvas width="300" height="80" id="canvas-path-data" class="bg-white border border-gray-200"></canvas>


However,using `Path2D` we can utilize the common svg path data commands to accomplish this. In my opinion this is much more simple.

```js
const p = new Path2D('M150 10 L115 70 L185 70 Z');
ctx1.stroke(p);
```

<canvas width="300" height="80" id="ex2" class="mt-3 bg-white border border-gray-200"></canvas>


If you're not familiar with svg path data commands I have a short series to ramp you up.

[SVG Path Video Series](https://youtube.com/playlist?list=PLKiuVKZics1eZrb8UykoOrg293vpelh-6)

Moreover there are a ton of svg path libraries out there that can simplify this even further.  I'll tout [my own library](https://github.com/joemaddalone/path) in this next example.

```js
const p = new Path2D(new Path().triangle(70, 150, 50).toString());
ctx.stroke(p);
```


<canvas width="300" height="80" id="ex3" class="mt-3 bg-white border border-gray-200"></canvas>

And with that we're off to the races. This next part is a bit ["draw the rest of the fucking owl"](https://www.reddit.com/r/restofthefuckingowl/)

<canvas width="300" height="80" id="ex4" class="mt-4 mb-4 bg-white border border-gray-200"></canvas>

```js
import Path from "@joemaddalone/path";
let cx = 0;
let cy = 0;
let moveX = 1;
let moveY = 1;
const size = 20
const halfSize = size/2;
const c = document.getElementById("canvas");
const ctx = c.getContext('2d');
const { x, y } = c.getBoundingClientRect();
const outOfBounds = (pos, end) => pos + size > end || pos < 0;

const update = () => {
	ctx.clearRect(0, 0, c.width, c.height);
	moveY = outOfBounds(cy + moveY, c.height) ? -moveY : moveY
	moveX = outOfBounds(cx + moveX, c.width) ? -moveX : moveX
	cx += moveX;
	cy += moveY;
	const sq = new Path().square(size, cx + halfSize, cy + halfSize)
	ctx.stroke(new Path2D(sq.toString()));
	requestAnimationFrame(update);
}
update();
```




<script src="/assets/postcode/svg-path-data-in-canvas/index.js"></script>